(this["webpackJsonpsku-game"]=this["webpackJsonpsku-game"]||[]).push([[0],{38:function(e,t,n){e.exports=n(64)},43:function(e,t,n){},44:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(34),o=n.n(c),i=(n(43),n(10)),u=(n(44),n(18)),l=n(12),s=n(36),d=n(7);window.PIXI=d;var m,f=Object(l.PixiComponent)("RectTileLayer",{create:function(e){return n(33),new window.PIXI.tilemap.CompositeRectTileLayer(0,[e.texture])},applyProps:function(e,t,n){var a=n.layer,r=n.tileset,c=n.horizontalTiles,o=n.spritesheet;if(a.data)for(var i=0;i<a.data.length;i++){var u=r.tilewidth,l=r.tileheight,s=i%c*u,d=Math.floor(i/c)*l;if(a.data[i]>0){var m="".concat(r.name,"-").concat(a.data[i]);e.addFrame(o.textures[m],s,d)}}}}),p=function(e){var t=e.basePath,n=e.data,c=e.setRackLocations,o=e.setDockLocations,u=e.setWallLocations,s=Object(a.useState)(),m=Object(i.a)(s,2),f=m[0],p=m[1],O=Object(a.useState)(),y=Object(i.a)(O,2),j=y[0];y[1];return Object(a.useEffect)((function(){var e=b(n),a=g(n),r=d.Texture.from("".concat(t,"/").concat(a.image)),i=d.BaseTexture.from("".concat(t,"/").concat(a.image)),l=new d.Spritesheet(i,e),s=[];l.parse((function(){var e,t,i=null===(e=a.tiles)||void 0===e?void 0:e.filter((function(e){var t;return null===(t=e.properties)||void 0===t?void 0:t.some((function(e){return"rack"===e.name&&e.value}))})).map((function(e){return e.id})),d=null===(t=a.tiles)||void 0===t?void 0:t.filter((function(e){var t;return null===(t=e.properties)||void 0===t?void 0:t.some((function(e){return"dock"===e.name&&e.value}))})).map((function(e){return e.id})),m=n.layers.filter((function(e){return e.visible})).map((function(e){return e.properties&&e.properties.some((function(e){return"wall"===e.name&&!0===e.value}))&&v(s,e,e.width),h(e,r,n.width,a,l)})),f=n.layers.find((function(e){var t;return null===(t=e.properties)||void 0===t?void 0:t.some((function(e){return"placeholders"===e.name&&e.value}))}));if(f){var g=[],b=[];f.data.forEach((function(e,t){if(i&&i.some((function(t){return t===e-a.firstgid}))){var n=t%f.width,r=Math.floor(t/f.width);g.push([n,r])}if(d&&d.some((function(t){return t===e-a.firstgid}))){var u=t%f.width,l=Math.floor(t/f.width);b.push([u,l])}c(g),o(b)}))}u(s),p(m)}))}),[t,n,c,o,u]),r.a.createElement(l.Container,null,f,j)},g=function(e){if(!e.tilesets.length)throw new Error("No tilesets found! Can't continue");if(e.tilesets.length>1&&console.warn("Found more than one tileset. But we currently only support one."),e.tilesets[0].source)throw new Error("Please embed tilemaps in Tiled! Can't continue");return e.tilesets[0]},h=function(e,t,n,a,c){return r.a.createElement(f,{key:e.name,texture:t,layer:e,horizontalTiles:n,tileset:a,spritesheet:c})},b=function(e){for(var t=g(e),n=t.columns,a={},r=0;r<t.tilecount;r++){var c=t.tilewidth,o=t.tileheight,i=r%n*c,u=Math.floor(r/n)*o;a["".concat(t.name,"-").concat(r+1)]={frame:{x:i,y:u,w:c,h:o},spriteSourceSize:{x:i,y:u,w:c,h:o},rotated:!1,trimmed:!1,sourceSize:{w:c,h:o}}}return{frames:a,meta:{image:t.image,size:{w:t.imagewidth,h:t.imageheight},scale:1}}},v=function(e,t,n){t.data.reduce((function(e,t,a){if(t>0){var r=a%n,c=Math.floor(a/n);e.push([r,c])}return e}),e)};!function(e){e[e.A=0]="A",e[e.B=1]="B",e[e.C=2]="C",e[e.D=3]="D"}(m||(m={}));var O,y=[{category:m.A,productCode:"IRN 590",description:"Clothes Iron"},{category:m.A,productCode:"CAM 679",description:"Digital Camera"},{category:m.A,productCode:"BAM 223",description:"Baby monitor"},{category:m.A,productCode:"SMK 019",description:"Smoke detector",slotting:"Usually sold with BAT 917"},{category:m.A,productCode:"DLA 413",description:"Desk lamp"},{category:m.A,productCode:"VAC 082",description:"Vacuum cleaner"},{category:m.A,productCode:"BAT 917",description:"Battery charger",slotting:"Usually sold with SMK 019"},{category:m.B,productCode:"VIR 555",description:"Virtual Reality headset"},{category:m.B,productCode:"PTV 555",description:"Plasma TV Set",slotting:"Usually sold with SPK 876"},{category:m.B,productCode:"SPK 876",description:"Home Theatre System/Speaker System",slotting:"Usually sold with PTV 555"},{category:m.B,productCode:"MWO 901",description:"Microwave Oven"},{category:m.B,productCode:"OTV 482",description:"OLED TV Set"},{category:m.C,productCode:"MIC 099",description:"Microphone",slotting:"Usually sold with DSC 743 as a karaoke set"},{category:m.C,productCode:"WSH 322",description:"Washing Machine"},{category:m.C,productCode:"RFG 411",description:"Refrigerator"},{category:m.C,productCode:"SMX 041",description:"Stand Mixer"},{category:m.C,productCode:"DSC 743",description:"Disco Ball",slotting:"Usually sold with MIC 099 as a karaoke set"},{category:m.D,productCode:"TPH 255",description:"Telephone"},{category:m.D,productCode:"CST 964",description:"Cassette Player"}],j=n(37),S=n(14),w=function(e,t){switch(t.type){case"startPicking":return e.map((function(e){return e.orderNo===t.orderNo?Object(S.a)(Object(S.a)({},e),{},{guy:t.guy}):e}));case"completeProductPick":return e.map((function(e){return e.orderNo===t.orderNo?Object(S.a)(Object(S.a)({},e),{},{pickedProducts:[].concat(Object(j.a)(e.pickedProducts||[]),[t.productCode])}):e}));case"completeOrder":return e.map((function(e){return e.orderNo===t.orderNo?Object(S.a)(Object(S.a)({},e),{},{complete:!0}):e}));default:return e}},x=n(23),k={boxes:function(){var e=y.map((function(e){return e.productCode}));return e.sort((function(){return.5-Math.random()})),e.reduce((function(e,t,n){return e[t]={location:[1+n,1]},e}),{})}()},C=function(e,t){switch(t.type){case"placeBox":var n=t.location,a=t.inRack,r=Object(S.a)(Object(S.a)({},e.boxes),{},Object(x.a)({},t.productCode,Object(S.a)(Object(S.a)({},e.boxes[t.productCode]),{},{location:n,inRack:a})));return Object(S.a)(Object(S.a)({},e),{},{boxes:r});default:return e}};!function(e){e[e.placingBoxes=0]="placingBoxes",e[e.pickingBoxes=1]="pickingBoxes",e[e.complete=2]="complete"}(O||(O={}));var E=function(e,t){switch(t.type){case"startPicking":return O.pickingBoxes;case"completeGame":return O.complete;default:return e}},P={statusText:"",gameState:O.placingBoxes,wms:y,pickingLists:[["MIC 099","MWO 901","DSC 743"],["WSH 322"],["SMX 041","OTV 482","CAM 679"],["SMK 019","BAT 917"],["VAC 082"],["SPK 876","PTV 555","DLA 413"],["IRN 590"],["BAM 223"],["DSC 743","MIC 099"],["DLA 413"],["DLA 413"],["SMK 019","BAT 917","RFG 411"]].map((function(e){return{orderNo:Math.random().toString().slice(2,9),products:e}})),warehouse:k,muted:"true"===localStorage.getItem("muted")},B=function(e,t){switch(t.type){case"setStatusText":return t.text;default:return e}},M=function(e,t){switch(t.type){case"setMuted":return localStorage.setItem("muted",t.value?"true":"false"),t.value;default:return e}},L=Object(a.createContext)({state:P,dispatch:function(){return null}}),I=function(e,t){return{gameState:E(e.gameState,t),statusText:B(e.statusText,t),wms:e.wms,pickingLists:w(e.pickingLists,t),warehouse:C(e.warehouse,t),muted:M(e.muted,t)}},T=function(e){var t=e.children,n=Object(a.useReducer)(I,P),c=Object(i.a)(n,2),o=c[0],u=c[1];return r.a.createElement(L.Provider,{value:{state:o,dispatch:u}},t)},R=n(65),A=n(16);R.a.registerPIXI(d),A.a.registerPlugin(R.a);var N,D=function(e){var t=e.location,n=void 0===t?[0,0]:t,c=e.tileWidth,o=void 0===c?0:c,i=e.tileHeight,u=void 0===i?0:i,s=e.behindWall,m=e.selected,f=Object(a.useRef)(null),p=Object(a.useRef)(null),g=Object(a.useRef)(null),h=Object(a.useRef)(),b=Object(a.useRef)(),v=Object(a.useMemo)((function(){return{x:n[0]*o,y:n[1]*u}}),[n,o,u]),O=v.x,y=v.y,j=function(t){b.current=t.data,t.currentTarget.zIndex=4,t.stopPropagation(),e.onClick&&e.onClick(t),h.current=b.current.getLocalPosition(f.current),p.current.visible=!1,g.current.visible=!0},S=function(t){e.behindWall?t.currentTarget.zIndex=3:t.currentTarget.zIndex=1,b.current=void 0,e.onReleased&&e.onReleased(t),p.current.visible=!0,g.current.visible=!1},w=function(t){if(b.current&&f.current){var n=b.current.getLocalPosition(f.current.parent),a=new d.Point(n.x-h.current.x,n.y-h.current.y);f.current.position=a,e.onDragged&&e.onDragged(t)}},x="".concat("/sku-game","/images/box1").concat(e.behindWall?"b":"",".png");return r.a.createElement(l.Container,Object.assign({},e,{x:O,y:y,ref:f,zIndex:e.behindWall?3:1,mousedown:j,touchstart:j,mouseup:S,mouseupoutside:S,mousemove:w,touchmove:w}),m&&r.a.createElement(l.Graphics,{draw:function(e){e.clear(),e.lineStyle(2,16763904),s&&!b.current?e.drawRect(2,u/2-1,o-4,u/2+2):e.drawRect(2,-u/2-1,o-4,u+2),e.endFill()}}),r.a.createElement(l.Sprite,{anchor:s?[0,-.5]:[0,.5],image:x,ref:p}),r.a.createElement(l.Sprite,{name:"ghost",anchor:s?[0,-.5]:[0,.5],alpha:.9,image:"".concat("/sku-game","/images/box1.png"),ref:g,visible:!1}))},W=Object(l.PixiComponent)("SpriteAnimated",{create:function(e){var t=e.textures;return new d.AnimatedSprite(t||[],!0)},applyProps:function(e,t,n){Object(l.applyDefaultProps)(e,t,n),e.gotoAndPlay(0)}});!function(e){e.front="front",e.left="left",e.right="right",e.back="back"}(N||(N={}));var z=Object(a.forwardRef)((function(e,t){var n=e.atlas,c=e.carryBox,o=Object(u.a)(e,["atlas","carryBox"]),s=Object(a.useState)(null),m=Object(i.a)(s,2),f=m[0],p=m[1],g=Object(a.useState)(N.right),h=Object(i.a)(g,2),b=h[0],v=h[1],O=Object(l.useApp)(),y=Object(a.useRef)();if(Object(l.useTick)((function(){if(t&&t.current){var e=t.current.position,n=y.current;if(n&&!n.equals(e)){var a=Math.atan2(e.y-n.y,e.x-n.x);a>=Math.PI/-4&&a<=0||a>=0&&a<=Math.PI/4?v(N.right):a>=Math.PI/4&&a<=.75*Math.PI?v(N.front):a>.75*Math.PI||a<-.75*Math.PI?v(N.left):v(N.back)}y.current=e.clone()}})),Object(a.useEffect)((function(){O.loader.onComplete.once((function(){var e=O.loader.resources[n].data.frames,t=Object.keys(e).reduce((function(e,t){var n=t.substring(0,t.length-1);return e[n]||(e[n]=[]),e[n].push(d.Texture.from(t)),e}),{});p(t)})),O.loader.loading||O.loader.add(n).load()}),[O.loader,O.loader.loading,n,e.name]),!f)return null;var j=f["".concat(b).concat(c?"-box":"")];return r.a.createElement(l.Container,Object.assign({ref:t,zIndex:2},o),r.a.createElement(W,{animationSpeed:.15,isPlaying:!0,textures:j,anchor:[0,.1]}),!1)})),F=n(5);R.a.registerPIXI(d),A.a.registerPlugin(R.a);var V=function(e){return{x:e[0],y:e[1]}},H=function(e){var t=e.dispatch,n=e.pickingList,c=e.aStar,o=e.homeLocation,l=e.tileSize,s=e.getProductLocation,d=Object(u.a)(e,["dispatch","pickingList","aStar","homeLocation","tileSize","getProductLocation"]),m=Object(a.useRef)(null),f=Object(a.useState)(!1),p=Object(i.a)(f,2),g=p[0],h=p[1],b=Object(a.useRef)(o),v=Object(a.useRef)();return Object(a.useEffect)((function(){if(m.current&&n){var e=n.orderNo,a=n.products.find((function(e){return!(n.pickedProducts||[]).includes(e)})),r=a||"home";if(!v.current||v.current!==r){v.current=a||r,A.a.killTweensOf(m.current);var i=A.a.timeline(),u=V(b.current||o);if(a){var d=(null===c||void 0===c?void 0:c.findPath(u,V(s(a))))||[];d.forEach((function(e){i.to(m.current,{ease:F.b.easeNone,pixi:{x:e[0]*l,y:e[1]*l},duration:1/6})})),i.to(m.current,{onComplete:function(){h(!0),t({type:"completeProductPick",productCode:a,orderNo:e});var n=d[d.length-1];b.current=n}})}else{((null===c||void 0===c?void 0:c.findPath(u,V(o)))||[]).forEach((function(e){i.to(m.current,{ease:F.b.easeNone,pixi:{x:e[0]*l,y:e[1]*l},duration:1/6})})),i.to(m.current,{onComplete:function(){h(!1),b.current=o,t({type:"completeOrder",orderNo:e})}})}}}}),[c,t,s,o,n,l,e.name]),r.a.createElement(z,Object.assign({atlas:"".concat("/sku-game","/images/sprites/guy/guy.json"),x:o[0]*l,y:o[1]*l,carryBox:g},d,{ref:m}))},X=n(24);n(33);R.a.registerPIXI(d),A.a.registerPlugin(R.a),window.PIXI=d;var K=function(e){var t=e.tilemap,n=e.width,c=e.height,o=Object(u.a)(e,["tilemap","width","height"]),m=Object(a.useContext)(L),f=m.state,g=m.dispatch,h=f.warehouse,b=Object(a.useState)(),v=Object(i.a)(b,2),y=v[0],j=v[1],S=Object(a.useState)([]),w=Object(i.a)(S,2),x=w[0],k=w[1],C=Object(a.useState)([]),E=Object(i.a)(C,2),P=E[0],B=E[1],M=Object(a.useState)([]),I=Object(i.a)(M,2),T=I[0],R=I[1],N=Object(a.useState)(),W=Object(i.a)(N,2),z=W[0],F=W[1],V=Object(a.useRef)(null),K="".concat("/sku-game","/").concat(t);Object(a.useEffect)((function(){(new d.Loader).add(K).load((function(e){var t=e.resources[K].data;j(t)}))}),[K]);var q=K.substr(0,K.lastIndexOf("/"));Object(a.useEffect)((function(){X.a.add("bennyHill","".concat("/sku-game","/sound/BennyHill.mp3"))}),[]),Object(a.useEffect)((function(){f.gameState!==O.pickingBoxes||f.muted?X.a.stop("bennyHill"):X.a.play("bennyHill")}),[f.gameState,f.muted]);var J=Object(a.useCallback)((function(e){return x.find((function(t){return t[0]===e[0]&&t[1]===e[1]}))}),[x]),$=Object(a.useCallback)((function(e){return P.find((function(t){return t[0]===e[0]&&t[1]===e[1]}))}),[P]),Q=function(e){return f.warehouse.boxes[e].location},Y=Object(a.useCallback)((function(e){return(null===y||void 0===y?void 0:y.tilewidth)&&y.tileheight?[Math.floor(e.x/(null===y||void 0===y?void 0:y.tilewidth)),Math.floor(e.y/(null===y||void 0===y?void 0:y.tileheight))]:[0,0]}),[y]),Z=function(e){var t=Object.entries(h.boxes).find((function(t){var n=Object(i.a)(t,2),a=(n[0],n[1]);return a.location[0]===e[0]&&a.location[1]===e[1]}));if(t)return t[0]},_=Object(a.useCallback)((function(e){return T.some((function(t){return t[0]===e[0]&&t[1]===e[1]}))}),[T]),ee=Object(a.useMemo)((function(){if(!y||!T.length)return null;for(var e=[],t=0;t<y.height;t++){for(var n=[],a=0;a<y.width;a++){var r=_([a,t]);n.push(r?1:0)}e.push(n)}return new s.AStarFinder({grid:{matrix:e},diagonalAllowed:!1,includeStartNode:!1,heuristic:"Manhatten",weight:0})}),[y,_,T]),te=Object(a.useState)(),ne=Object(i.a)(te,2),ae=ne[0],re=ne[1],ce=Object(a.useState)(),oe=Object(i.a)(ce,2),ie=oe[0],ue=oe[1],le=Object(a.useState)(),se=Object(i.a)(le,2),de=se[0],me=se[1];Object(a.useEffect)((function(){if(f.gameState===O.pickingBoxes){F(void 0);var e=f.pickingLists.find((function(e,t){return!e.complete&&t%3===0}));re(e);var t=f.pickingLists.find((function(e,t){return!e.complete&&t%3===1}));ue(t);var n=f.pickingLists.find((function(e,t){return!e.complete&&t%3===2}));me(n),e||t||n||g({type:"completeGame"})}}),[g,f.gameState,f.pickingLists]);return r.a.createElement(l.Stage,{width:n,height:c},r.a.createElement(l.Container,Object.assign({ref:V,interactive:!0,hitArea:new d.RoundedRectangle(0,0,n,c,0),sortableChildren:!0},o),y&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{basePath:q,data:y,setRackLocations:k,setDockLocations:B,setWallLocations:R}),y&&T.length?Object.entries(h.boxes).map((function(t){var n=Object(i.a)(t,2),a=n[0],c=n[1];return r.a.createElement(D,{location:c.location,tileWidth:y.tilewidth,tileHeight:y.tileheight,selected:a===z,onClick:function(t){return n=a,e.onProductClick(n),void F(n);var n},onDragged:function(e){return function(e,t){var n=t.data.global,a=Y(n),r=J(a)||$(a),c=16777215;if(r){var o=Z(r);c=o&&o!==e?16724736:65328}U(t.currentTarget,c)}(a,e)},onReleased:function(e){return function(e,t){var n=t.data.global,a=Y(n);U(t.currentTarget,16777215);var r=J(a),c=$(a),o=r||c;if(o){var i=Z(o);if(!i||i===e)return void g({type:"placeBox",productCode:e,location:o,inRack:!!r})}var u=h.boxes[e],l=u.location[0]*y.tilewidth,s=u.location[1]*y.tileheight;A.a.to(t.currentTarget,{duration:.5,ease:"bounce.out",pixi:{x:l,y:s}})}(a,e)},key:a,behindWall:G(c.location,T),interactive:f.gameState===O.placingBoxes})})):null,ee?r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{name:"guy1",pickingList:ae,homeLocation:[9,12],tileSize:y.tilewidth,getProductLocation:Q,dispatch:g,aStar:ee,visible:f.gameState===O.pickingBoxes}),r.a.createElement(H,{name:"guy2",pickingList:ie,homeLocation:[10,12],tileSize:y.tilewidth,getProductLocation:Q,dispatch:g,aStar:ee,visible:f.gameState===O.pickingBoxes}),r.a.createElement(H,{name:"guy3",pickingList:de,homeLocation:[11,12],tileSize:y.tilewidth,getProductLocation:Q,dispatch:g,aStar:ee,visible:f.gameState===O.pickingBoxes})):null)))},U=function(e,t){var n=e.children.find((function(e){return"ghost"===e.name}));n&&(n.tint=t)},G=function(e,t){return t.some((function(t){return t[0]===e[0]&&t[1]===e[1]+1}))},q=(n(60),function(e){var t=Object(a.useRef)(null),n=Object(a.useContext)(L).state.wms;Object(a.useEffect)((function(){if(t.current){var n=t.current,a=n.querySelector('tr[data-code="'.concat(e.selectedProduct,'"]'));return null===a||void 0===a||a.classList.add("highlight"),null===a||void 0===a||a.scrollIntoView({block:"end"}),function(){var e;null===(e=n.querySelector(".highlight"))||void 0===e||e.classList.remove("highlight")}}}),[e.selectedProduct]);var c=function(e){return r.a.createElement("tr",{key:e.productCode,"data-code":e.productCode},r.a.createElement("td",null,e.productCode),r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.slotting||""))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"SKU velocity profile"),r.a.createElement("table",{ref:t},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:3,className:"category-header-a"},"A. Fast-moving")),n.filter((function(e){return e.category===m.A})).map((function(e){return c(e)})),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:3,className:"category-header-b"},"B. Medium-moving")),n.filter((function(e){return e.category===m.B})).map((function(e){return c(e)})),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:3,className:"category-header-c"},"C. Slow-moving")),n.filter((function(e){return e.category===m.C})).map((function(e){return c(e)})),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:3,className:"category-header-d"},"D. Not-moving")),n.filter((function(e){return e.category===m.D})).map((function(e){return c(e)})))))}),J=function(){var e=Object(a.useContext)(L).state,t=e.pickingLists,n=e.wms.reduce((function(e,t){return e[t.productCode]||(e[t.productCode]=t.description),e}),{}),c=function(e){return r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:3},"Order no: ",e.orderNo)),e.products.map((function(t){return o(e,t)}))))},o=function(e,t){var a,c=null===(a=e.pickedProducts)||void 0===a?void 0:a.some((function(e){return e===t}));return r.a.createElement("tr",{key:t,className:c?"completed":""},r.a.createElement("td",null),r.a.createElement("td",null,t),r.a.createElement("td",null,n[t]))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Picking lists"),t.map((function(e){return r.a.createElement("div",{key:e.orderNo},c(e))})))},$=function(e){var t=Object(a.useContext)(L).state.gameState;return r.a.createElement("div",{className:"ipad"},r.a.createElement("div",{className:"content"},function(){switch(t){case O.placingBoxes:return r.a.createElement(q,{selectedProduct:e.selectedProduct});case O.pickingBoxes:return r.a.createElement(J,null)}}()))},Q=(n(61),function(){var e=Object(a.useContext)(L),t=e.state,n=e.dispatch,c=function(){switch(t.gameState){case O.placingBoxes:if(!!Object.values(t.warehouse.boxes).some((function(e){return!e.inRack})))return void n({type:"setStatusText",text:"First place all goods in the warehouse!"});n({type:"startPicking"});break;case O.complete:location.reload()}};switch(t.gameState){case O.placingBoxes:return r.a.createElement("button",{onClick:c,className:"start-button"},r.a.createElement("h1",null,"Start"));case O.complete:return r.a.createElement("button",{onClick:c,className:"start-button"},r.a.createElement("h1",null,"Restart"));default:return null}}),Y=(n(62),function(){var e=Object(a.useContext)(L).state,t=e.statusText,n=Object(a.useState)(0),c=Object(i.a)(n,2),o=c[0],u=c[1];return Object(a.useEffect)((function(){var t,n=performance.now();if(e.gameState===O.pickingBoxes){t=setInterval((function(){u((function(e){return e+(performance.now()-n)}))}),100)}return function(){clearTimeout(t)}}),[e.gameState,o]),e.gameState===O.pickingBoxes?r.a.createElement("div",{className:"status"},r.a.createElement("div",{className:"timer"},Z(o))):r.a.createElement("div",{className:"status"},t)}),Z=function(e){var t=e/1e3,n=Math.floor(t/3600);t%=3600;var a=Math.floor(t/60);return t%=60,n>0?"".concat(_(n),":").concat(_(a),":").concat(t.toFixed(1).padStart(4,"0")):"".concat(_(a),":").concat(t.toFixed(1).padStart(4,"0"))},_=function(e){return"".concat(e).padStart(2,"0")},ee=(n(63),function(){var e=Object(a.useContext)(L),t=e.state,n=e.dispatch;return r.a.createElement("div",{className:"settings"},r.a.createElement("input",{type:"checkbox",onChange:function(e){n({type:"setMuted",value:!e.target.checked})},checked:!1===t.muted}),r.a.createElement("label",null,"Sound on"))});window.PIXI=d;var te=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),n=t[0],c=t[1];return r.a.createElement(T,null,r.a.createElement("div",{className:"App"},r.a.createElement(ee,null),r.a.createElement(K,{tilemap:"scenes/level1.json",width:672,height:416,onProductClick:c}),r.a.createElement($,{selectedProduct:n}),r.a.createElement(Q,null),r.a.createElement(Y,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.d5083337.chunk.js.map